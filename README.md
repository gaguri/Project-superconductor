# Project-superconductor

### Для Программной Инженерии

Задание N2

Основная модель делает следующзее - по каритинке фазовой диаграммы предсказывает четыре физических параметра, которые описывают эту диаграмму.

В папке app лежит код приложения, основной эндпонит - calculate-parameters на вход которому передается файл с картинкой, а на выход он отдает 4 параметра в виде float

Чтобы запустить приложение нужно:
1. в корневой папке выполнить `pip install -r requirements.txt`
2. в папке app выполнить `uvicorn main:app --host 127.0.0.1 --port 8080`
3. Перейти по урлу http://127.0.0.1:8080
4. После открытия фронта в дропдаун можно опустить любую картинку из папки ./tests/tests_files, фронт отправит запрос на бэк и он  отдаст параметры. На процессоре предсказание происходит долго, поэтому возможно нужно будет подождать 5-10 секунд


Файл image_generation.py генерирует изображения из исходных csv-файлов.  
Файл DataProcessor.py проходит по всем csv-файлам и с помощью image_generation.py генерирует изображения.  
Файл script_labels.py создает csv-файл с разметкой для обучения.  

## VGG16 BN  
В папке VGG16BN находятся следующие файлы:  
1. processing_data.py - подготовка изображений (сжатие с ~500х500 пикселей до 224х224), создание csv-файла с разметкой, разделение этого файла на 3 (train, val, test)
2. dataset.py - предподготовка датасета
3. VGG16BN.py - сама модель
4. train_model.py - обучение модели; после завершения обучения получаем график лоссов при обучении и валидации
5. test_model.py - теститрование модели; после завершения тестирования сохраняет csv-файл с предсказаниями
6. stats.py - расчет относительной ошибки определения; статистическая обработка результатов (min, max, mean) с выводом в консоль; создает csv-файл со следующими колонками:
   * истинные значения параметров (D, V, tb, tp)
   * предсказанные значения параметров (Dpr, Vpr, tbpr, tppr)
   * рассчитанные значения MAPE (MAPE_D, MAPE_V, MAPE_tb, MAPE_tp)

Запускать файлы в порядке: 1, 4, 5, 6




